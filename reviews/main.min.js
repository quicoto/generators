(()=>{(()=>{let o={};function h(t){let{type:e,showFormatted:c,season:r,episode:i,volume:d,date:n,rating:s,comment:m,share:u}=t;function p(){let a="";return+r&&(a+=`season: ${+r}`),+i&&(a+=`
episode: ${+i}`),+d&&(a+=`volume: ${+d}`),a}function l(){let a=c;e!=="manga"&&(a+=`${r}x${i}`)}return`
---
type: ${e==="manga"?"manga":"series"}
title: "${l()}"
date: "${n}"
name: "${c}"
${p()}
rating: ${+s}
ratingEmoji: ${"\u2B50\uFE0F".repeat(+s)}
share: ${u==="true"?"true":"false"}
---

${m||`*[No review was written for this ${e==="manga"?"volume":"episode"}]*`}
`.trim()}function g(){o.form=document.querySelector("form"),o.show=document.querySelector("[name='show']"),o.seasonWrapper=document.querySelector("#season-wrapper"),o.episodeWrapper=document.querySelector("#episode-wrapper"),o.volumeWrapper=document.querySelector("#volume-wrapper")}function f(){let t=new Date;function e(s){return s<10&&(s=`0${s}`),s}let c=e(t.getDate()),r=e(t.getMonth()+1),i=e(t.getHours()),d=e(t.getMinutes()),n=e(t.getSeconds());return`${t.getFullYear()}-${r}-${c}T${i}:${d}:${n}`}function w(t){t.preventDefault();let e=new FormData(t.target),c=e.get("show"),r=document.querySelector("[name='show']").selectedOptions[0],i="https://github.com/quicoto/reviews/new/master/content/blog/",d=r.dataset.type==="manga"?"%VOLUME%":"%SEASON%x%EPISODE%",n=`${i}${r.dataset.type}/?filename=${r.dataset.type}/%SHOW%/${d}/index.md`,s=r.innerText,m=e.get("season"),u=e.get("episode"),p=e.get("volume"),l=e.get("rating"),a=e.get("comment"),y=e.get("share"),E=h({showFormatted:s,type:r.dataset.type,season:m,episode:u,volume:p,date:f(),rating:l,comment:a,share:y});n=n.replace("%SHOW%",c),n=n.replace("%SEASON%",m),n=n.replace("%EPISODE%",u),n=n.replace("%VOLUME%",p),navigator.clipboard.writeText(E),window.location.href=n}function $(){let t=document.querySelector("[name='show']").selectedOptions[0];t.dataset.type==="manga"?(o.seasonWrapper.setAttribute("hidden",!0),o.episodeWrapper.setAttribute("hidden",!0),o.volumeWrapper.removeAttribute("hidden")):t.dataset.type==="tv-shows"&&(o.seasonWrapper.removeAttribute("hidden"),o.episodeWrapper.removeAttribute("hidden"),o.volumeWrapper.setAttribute("hidden",!0))}function v(){o.form.addEventListener("submit",w),o.show.addEventListener("change",$)}function S(){g(),v()}S()})();})();
