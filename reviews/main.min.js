(()=>{(()=>{let n={};function h(t){let{type:e,showFormatted:i,season:r,episode:c,chapter:p,date:o,rating:a,comment:d}=t;function m(){let s="";return+r&&(s+=`season: ${+r}`),+c&&(s+=`
episode: ${+c}`),+p&&(s+=`chapter: ${+p}`),s}function u(){let s=i;return e!=="manga"&&(s+=` ${r}x${c}`),s}return`
---
type: ${e==="manga"?"manga":"series"}
title: "${u()}"
date: "${o}"
name: "${i}"
${m()}
rating: ${+a}
ratingEmoji: ${"\u2B50\uFE0F".repeat(+a)}
---

${d||`*[No review was written for this ${e==="manga"?"chapter":"episode"}]*`}
`.trim()}function l(){n.form=document.querySelector("form"),n.show=document.querySelector("[name='show']"),n.seasonWrapper=document.querySelector("#season-wrapper"),n.episodeWrapper=document.querySelector("#episode-wrapper"),n.chapterWrapper=document.querySelector("#chapter-wrapper")}function g(){let t=new Date;function e(a){return a<10&&(a=`0${a}`),a}let i=e(t.getDate()),r=e(t.getMonth()+1),c=e(t.getHours()),p=e(t.getMinutes()),o=e(t.getSeconds());return`${t.getFullYear()}-${r}-${i}T${c}:${p}:${o}`}function f(t){t.preventDefault();let e=new FormData(t.target),i=e.get("show"),r=document.querySelector("[name='show']").selectedOptions[0],c="https://github.com/quicoto/reviews/new/master/content/blog/",p=r.dataset.type==="manga"?"%chapter%":"%SEASON%x%EPISODE%",o=`${c}${r.dataset.type}/?filename=%SHOW%/${p}/index.md`,a=r.innerText,d=e.get("season"),m=e.get("episode"),u=e.get("chapter"),s=e.get("rating"),y=e.get("comment"),E=h({showFormatted:a,type:r.dataset.type,season:d,episode:m,chapter:u,date:g(),rating:s,comment:y});o=o.replace("%SHOW%",i),o=o.replace("%SEASON%",d),o=o.replace("%EPISODE%",m),o=o.replace("%chapter%",u),navigator.clipboard.writeText(E),window.location.href=o}function w(){let t=document.querySelector("[name='show']").selectedOptions[0];t.dataset.type==="manga"?(n.seasonWrapper.setAttribute("hidden",!0),n.episodeWrapper.setAttribute("hidden",!0),n.chapterWrapper.removeAttribute("hidden")):t.dataset.type==="tv-shows"&&(n.seasonWrapper.removeAttribute("hidden"),n.episodeWrapper.removeAttribute("hidden"),n.chapterWrapper.setAttribute("hidden",!0))}function $(){n.form.addEventListener("submit",f),n.show.addEventListener("change",w)}function S(){l(),$()}S()})();})();
